name: Release
on:
  workflow_dispatch:
    inputs:
      version:
        description: 'Release version (e.g., 0.1.0)'
        required: true
jobs:
  release:
    runs-on: ubuntu-latest
    environment: release-approval
    steps:
      - uses: actions/checkout@v4
      - name: Re-run CI checks
        run: echo "Running full CI checks for release"
      - name: Create Tag
        run: |
          git tag v${{ github.event.inputs.version }}
          git push origin v${{ github.event.inputs.version }}
      - name: Create Release
        uses: softprops/action-gh-release@v1
        with:
          tag_name: v${{ github.event.inputs.version }}
          generate_release_notes: true
